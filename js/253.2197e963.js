"use strict";(self["webpackChunkmanga_project"]=self["webpackChunkmanga_project"]||[]).push([[253],{2253:function(t,e,a){a.r(e),a.d(e,{default:function(){return d},whatday:function(){return r}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"update-container"},[e("div",{staticClass:"head"},t._l(t.timeDay,(function(a){return e("div",{key:a.dateId,class:["date",{"date-active":a.status}],on:{click:function(e){return t.dateActive(a.dateId)}}},[t._v(" "+t._s(a.date)+" ")])})),0),e("div",{staticClass:"update-list"},t._l(t.listData,(function(a){return e("div",{key:a.comic_id,staticClass:"items",on:{click:function(e){return t.turnRoute(a.comic_id,a.author_name)}}},[e("img",{attrs:{src:"https://image.yqmh.com/mh/"+a.comic_id+".jpg"}}),e("span",[t._v(t._s(a.comic_name))])])})),0)])},s=[];a(7658);const r=()=>1;var n={data(){return{page:1,pageSize:12,currentDate:"",time:"",fullYear:"",month:"",date:"",listData:{},timeData:{},timeDay:[]}},computed:{url(){return`https://www.kanman.com/api/updatelist?page=${this.page}&pageSize=${this.pageSize}&date=${this.currentDate}`}},created(){this.time=new Date,this.fullYear=this.time.getFullYear(),this.month=this.time.getMonth()+1,this.date=this.time.getDate(),this.currentDate=this.fullYear+"-"+this.month+"-"+this.date,this.getUpdateListData(),this.getTimeData()},methods:{getUpdateListData(){this.$axios.get(this.url).then((({data:t})=>{this.listData=t.data.list}))},getTimeData(){let t=5,e=(new Date).getDay();this.timeDay.push({date:"今天",dateId:e,status:!0}),this.timeDay.push({date:"昨天",dateId:e-1,status:!1});let a=e-2;for(let i=0;i<t;i++){let t=a-i;t=t<=0?t+7:t;let e=this.weekday(t);this.timeDay.push({date:e,dateId:a-i,status:!1})}this.timeDay=this.timeDay.reverse()},weekday(t){switch(t){case 1:return"周一";case 2:return"周二";case 3:return"周三";case 4:return"周四";case 5:return"周五";case 6:return"周六";case 7:return"周日";default:break}},dateActive(t){for(const e in this.timeDay)this.timeDay[e].status=!1,t==this.timeDay[e].dateId&&(this.timeDay[e].status=!0,this.currentDate=this.fullYear+"-"+this.month+"-"+(2+this.timeDay[e].dateId),this.getUpdateListData())},turnRoute(t,e){this.$router.push({path:"/info",query:{id:t,author:e}})}}},u=n,h=a(1001),c=(0,h.Z)(u,i,s,!1,null,null,null),d=c.exports}}]);
//# sourceMappingURL=253.2197e963.js.map